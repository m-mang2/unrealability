콤보
어빌리티 태스크 동작이해
블루프린트 활용

MontageJumpToSection 애니메이션의 다음 세션으로 넘어가는 함수로 언리얼에서 제공해주고 있음
CanActivateAbility 발동 될지 확인 후에 발동

# 어빌리티 태스크의 제작 규칙
* UAbilityTask 클래스를 상속
* 인스턴스를 생성해 반환하는 static 함수 구현
* AT가 종료되면 GA에 알려줄 델리게이트 선언
* 시작과 종료 처리를 위해 Activate와 OnDestroy함수를 재정의해 구현
* 일정시간이 지난 후에 종료해야한다면 SetWaitingOnAvatar함수를 호출에 대기상태로 설정
* Tick를 활성화하고 싶다면 bTickingTask를 true로 설정
* At가 종료되면 델리게이트를 브로드캐스팅한다.

# GA와 AT사이의 실행흐름
![image](https://github.com/m-mang2/unrealability/assets/135841268/df641225-f351-48ad-bae3-9d736922a27f)

어빌리티를 만들때는
NewObject가 아닌 NewAbilityTask를 사용함

ShouldBroadcastAbilityTaskDelegates 브로드 캐스딩 가능여부
```
int32 AbilityTaskWarnIfBroadcastSuppress = 0;
static FAutoConsoleVariableRef CVarAbilityTaskWarnIfBroadcastSuppress(TEXT("AbilitySystem.AbilityTaskWarnIfBroadcastSuppress"), AbilityTaskWarnIfBroadcastSuppress, TEXT("Print warning if an ability task broadcast is suppressed because the ability has ended"), ECVF_Default );

bool UAbilityTask::ShouldBroadcastAbilityTaskDelegates() const
{
	bool ShouldBroadcast = (Ability && Ability->IsActive());

	if (!ShouldBroadcast && AbilityTaskWarnIfBroadcastSuppress)
	{
		ABILITY_LOG(Warning, TEXT("Suppressing ability task %s broadcsat"), *GetDebugString());
	}

	return ShouldBroadcast;
}
```

# 블루프린트에서 AT를 호출하기 위한 제작
* static 함수에 UFUNCTION(BlueprintCallable)을 지정
* 콜백을 위한 델리게이트는 Dynamic Delegate선언
* AT의 델리게이트에 UPROPERTY(BlueprintAssignable)을 지정
![image](https://github.com/m-mang2/unrealability/assets/135841268/20b1fad8-2702-40e4-8b10-fb31415043f9)


# 공격 중 점프 막기
![image](https://github.com/m-mang2/unrealability/assets/135841268/bb2714d9-0555-498b-ab0e-c67937f04736)

# Tags 종류
Cancel Abilities With Tag : 태그로 어빌리티 취소 - 이 어빌리티 실행 도중 이미 실행 중인 어빌리티의 태그가 제공된 목록에 일치하면 취소합니다.
Block Abilities With Tag : 태그로 어빌리티 차단 - 이 어빌리티 실행 도중 다른 어빌리티의 태그가 일치하면 실행을 차단합니다.
Activation Owned Tags : 시전 오너 태그 - 이 어빌리티 실행 도중, 그 어빌리티의 오너에 이 태그 세트를 붙입니다.
Activation Required Tags : 시전 필수 태그 - 이 어빌리티는 시전하는 액터 또는 컴포넌트에 이 태그가 전부 있을 때만 시전할 수 있습니다.
Activation Blocked Tags : 시전 차단 태그 - 이 어빌리티는 시전하는 액터 또는 컴포넌트에 이 태그가 하나도 없을 때만 시전할 수 있습니다.
Target Required Tags : 대상 필수 태그 - 이 어빌리티는 대상 액터 또는 컴포넌트에 이 태그가 전부 있을 때만 시전할 수 있습니다.
Target Blocked Tags : 대상 차단 태그 - 이 어빌리티는 대상 액터 또는 컴포넌트에 이 태그가 하나도 없을 때만 시전할 수 있습니다.
https://docs.unrealengine.com/5.0/ko/using-gameplay-abilities-in-unreal-engine/


단순 궁금..
# Cast, CastChecked 차이
Cast는 타입을 변환하는 함수로 실패시 nullptr을 반환하는 반면 CastChecked는 캐릭팅 실패시 런타임 에러가 남


